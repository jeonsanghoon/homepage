!function(i){
	var t,
	n,
	a={
		init:function(i,
		o){
			t=i,
			n=o,
			a.bind()
		},
		bind:function(){
			i(window).scroll(function(){
				a.animate(t,
				n)
			}),
			i(window).trigger("scroll")
		},
		animate:function(t,
		n){
			var a=i(window).height(),
			o=i(window).scrollTop(),
			s=o+a;i.each(t,
			function(){
				var t=i(this).data("animate"),
				a=i(this).data("offset"),
				e=i(this).data("duration"),
				d=i(this).data("delay"),
				r=i(this).data("iteration"),
				h=i(this).outerHeight(),
				c=i(this).offset().top,
				l=c+h;a&&(c+=a,
				l-=a),
				i(this).css({
					"-webkit-animation-duration":e,
					"animation-duration":e
				}),
				i(this).css({
					"-webkit-animation-delay":d,
					"animation-delay":d
				}),
				i(this).css({
					"-webkit-animation-iteration-count":r,
					"animation-iteration-count":r
				}),
				l>=o&&c<=s?(i(this).css("visibility",
				"visible"),
				i(this).addClass(t),
				i(this).addClass("animated")):n.once===!1&&(i(this).css("visibility",
				""),
				i(this).removeClass(t),
				i(this).removeClass("animated"))
			})
		}
	};jQuery.fn.scrolla=function(t){
		return t=i.extend({
			mobile:!1,
			once:!1
		},
		t),
		(t.mobile!==!1||!/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))&&void a.init(this,
		t)
	}
}(jQuery);

$(document).ready(function() {
	var bodyOffset = $('body').offset();
	$(window).scroll(function() {
		if ($(document).scrollTop() > bodyOffset.top) {
			$('header').addClass('scroll');
		} else {
			$('header').removeClass('scroll');
		}
	});
});
// animated event //
$('.animate').scrolla({
	mobile: true,
	once: true
});
$('#button-show-window').click(function() {
	var template = $('#modal-template').html();
	$('body').append(template);
	$('.animate').scrolla('bind');
	$('section.modal .modal-close').click(function() {
		$(this).closest('section.modal').remove();
	});
	return false;
});
// main menu //
$(window).ready(function (){
	var width = window.outerWidth;
		if (width > 800) {
			$(".topnav").hover(function() {
				$(this).parent().find(".subnav").slideDown('fast').show();
				$(document).find(".wrapper").toggleClass("on");
				$(this).parent().hover(function() {
				}, 
			function(){
				$(this).parent().find(".subnav").slideUp('fast');
			});
		});
	}
})
// menu 모바일 'open' //
$(".navi_m").click(function() {
	$("body").toggleClass("active");
});
// main parallax //
$(document).ready(function(){
	$window = $(window);
	$('[data-type]').each(function() {
		$(this).data('offsetY', parseInt($(this).attr('data-offsetY')));
		$(this).data('Xposition', $(this).attr('data-Xposition'));
		$(this).data('speed', $(this).attr('data-speed'));
	});
	$('*[data-type="background"]').each(function(){
		var $self = $(this),
			offsetCoords = $self.offset(),
			topOffset = offsetCoords.top;
		$(window).scroll(function() {
			if ( ($window.scrollTop() + $window.height()) > (topOffset) &&
				( (topOffset + $self.height()) > $window.scrollTop() ) ) {
				var yPos = -($window.scrollTop() / $self.data('speed')); 
				if ($self.data('offsetY')) {
					yPos += $self.data('offsetY');
				}
				var coords = '50% '+ yPos + 'px';
				$self.css({ backgroundPosition: coords });
			};
		});
	});
});
/* popup*/
$(function() {
	$('[data-popup-open]').on('click', function(e)  {
		var targeted_popup_class = jQuery(this).attr('data-popup-open');
		$('[data-popup="' + targeted_popup_class + '"]').fadeIn(350);
		e.preventDefault();
	});
	$('[data-popup-close]').on('click', function(e)  {
		var targeted_popup_class = jQuery(this).attr('data-popup-close');
		$('[data-popup="' + targeted_popup_class + '"]').fadeOut(350);
		e.preventDefault();
	});
});
		/* slide */
		var swiper = new Swiper(".mySwiper", {
			spaceBetween: 30,
			effect: "fade",
			loop:"true",
			centeredSlides: true,
			autoplay: {
				delay: 5000,
				disableOnInteraction: false,
			},
			navigation: {
				nextEl: ".swiper-button-next",
				prevEl: ".swiper-button-prev",
			},
			pagination: {
				el: ".swiper-pagination",
				clickable: true,
			},
			});